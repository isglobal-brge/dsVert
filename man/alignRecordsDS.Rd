% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/alignRecordsDS.R
\name{alignRecordsDS}
\alias{alignRecordsDS}
\title{Align Records Based on Reference Hashes}
\usage{
alignRecordsDS(data_name, id_col, reference_hashes, algo = "sha256")
}
\arguments{
\item{data_name}{Character string. Name of the data frame in the server
environment.}

\item{id_col}{Character string. Name of the column containing identifiers.}

\item{reference_hashes}{Character vector. Hashes from the reference server
to match against.}

\item{algo}{Character string. Hash algorithm to use. Must match the
algorithm used to generate reference_hashes. Default is "sha256".}
}
\value{
A data frame containing only the matched observations, reordered
to match the order of reference_hashes. This is assigned to the server
environment (not returned to client).
}
\description{
Server-side assign function that reorders and subsets a data
frame to match a reference set of hashed identifiers. This ensures that
observations across different vertical partitions are properly aligned.
}
\details{
This function performs the following steps:
\enumerate{
\item Hashes the local identifier column using the specified algorithm
\item Matches local hashes against reference hashes
\item Subsets and reorders the data to align with reference
}

Observations that don't match any reference hash are excluded.
The order of the returned data frame matches the order of reference_hashes.
}
\examples{
\dontrun{
# Called from client via datashield.assign()
# datashield.assign(conn, "D_aligned",
#   "alignRecordsDS('D', 'patient_id', reference_hashes)")
}

}
\seealso{
\code{\link{hashIdDS}} for generating the reference hashes
}
