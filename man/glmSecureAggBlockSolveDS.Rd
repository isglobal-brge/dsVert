% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/glmSecureAgg.R
\name{glmSecureAggBlockSolveDS}
\alias{glmSecureAggBlockSolveDS}
\title{BCD block solve with masked eta output (secure aggregation)}
\usage{
glmSecureAggBlockSolveDS(
  data_name,
  x_vars,
  beta_current,
  gradient,
  lambda = 1e-04,
  coordinator_pk,
  iteration = 1L
)
}
\arguments{
\item{data_name}{Character. Name of the data frame with local features.}

\item{x_vars}{Character vector. Feature column names on this server.}

\item{beta_current}{Numeric vector. Current coefficients for this block.}

\item{gradient}{Numeric vector. Decrypted gradient from threshold decryption.}

\item{lambda}{Numeric. L2 regularization parameter. Default 1e-4.}

\item{coordinator_pk}{Character. Coordinator's transport PK (base64url).}

\item{iteration}{Integer. Current BCD iteration.}
}
\value{
List with:
\itemize{
\item \code{beta}: Updated coefficient vector (p_k-length, safe aggregate)
\item \code{encrypted_masked_eta}: Transport-encrypted masked eta (opaque)
}
}
\description{
Non-label server function for the secure aggregation protocol. After
threshold decryption reveals the gradient, this function:
\enumerate{
\item Solves the BCD block update (same math as \code{glmSecureBlockSolveDS})
\item Computes eta_new = X * beta_new (plaintext)
\item Masks eta_new using pairwise PRG masks (fixed-point integer arithmetic)
\item Transport-encrypts the masked vector under the coordinator's PK
}
}
\details{
The coordinator can only recover the aggregate (sum of all masked etas),
never individual per-server eta_k values.
}
\seealso{
\code{\link{glmSecureAggInitDS}}, \code{\link{glmSecureAggCoordinatorStepDS}}
}
