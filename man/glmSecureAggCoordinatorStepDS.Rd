% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/glmSecureAgg.R
\name{glmSecureAggCoordinatorStepDS}
\alias{glmSecureAggCoordinatorStepDS}
\title{GLM Coordinator Step with secure aggregation (label server)}
\usage{
glmSecureAggCoordinatorStepDS(
  data_name,
  y_var,
  x_vars,
  eta_blob_keys = NULL,
  non_label_pks = NULL,
  family = "gaussian",
  beta_current = NULL,
  lambda = 1e-04,
  intercept = FALSE,
  n_obs = NULL,
  scale_bits = 20L
)
}
\arguments{
\item{data_name}{Character. Name of the standardized data frame.}

\item{y_var}{Character. Name of the response variable.}

\item{x_vars}{Character vector. Feature column names on the label server.}

\item{eta_blob_keys}{Character vector or NULL. Keys in blob storage
containing encrypted masked eta blobs from non-label servers.}

\item{non_label_pks}{Named list. Server name -> transport PK (base64url).}

\item{family}{Character. GLM family. Default \code{"gaussian"}.}

\item{beta_current}{Numeric vector or NULL. Current label-server coefficients.}

\item{lambda}{Numeric. L2 regularization. Default 1e-4.}

\item{intercept}{Logical. Include intercept column. Default FALSE.}

\item{n_obs}{Integer. Number of observations.}

\item{scale_bits}{Integer. Fixed-point scale exponent. Default 20.}
}
\value{
List with:
\itemize{
\item \code{beta}: Updated label-server coefficients
\item \code{encrypted_blobs}: Named list of encrypted (mu, w) blobs
\item \code{converged}: Logical from IRLS convergence check
}
}
\description{
Called once per BCD iteration on the label server (coordinator). Differs
from \code{glmCoordinatorStepDS} ONLY in eta aggregation:
\itemize{
\item Decrypts masked eta blobs from non-label servers
\item Sums ALL masked vectors element-wise (pairwise masks cancel)
\item Immediately discards individual masked vectors (never stored)
\item Recovers true aggregate eta_other by dividing by 2^scale_bits
}
}
\details{
The rest (IRLS step, coefficient update, encrypting mu/w for non-label
servers) is identical to \code{glmCoordinatorStepDS}.
}
\seealso{
\code{\link{glmSecureAggBlockSolveDS}}, \code{\link{glmSecureAggInitDS}}
}
