% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/glmSecureRouting.R
\name{glmSecureDevianceDS}
\alias{glmSecureDevianceDS}
\title{Compute deviance server-side (coordinator only)}
\usage{
glmSecureDevianceDS(
  data_name,
  y_var,
  encrypted_eta_blobs = NULL,
  eta_blob_keys = NULL,
  family = "gaussian",
  y_sd = NULL,
  y_mean = NULL
)
}
\arguments{
\item{data_name}{Character. Name of the ORIGINAL (not standardized) data
frame containing the response variable.}

\item{y_var}{Character. Name of the response variable.}

\item{encrypted_eta_blobs}{Named list or NULL. Server name -> encrypted eta
blob (base64url) from the final BCD iteration. NULL if there are no
non-label servers. Mutually exclusive with \code{eta_blob_keys}.}

\item{eta_blob_keys}{Character vector or NULL. Keys in
\code{\link{mheStoreBlobDS}} storage from which to read encrypted eta blobs.
Used when blobs are too large for direct parameter passing.}

\item{family}{Character. GLM family: \code{"gaussian"}, \code{"binomial"},
or \code{"poisson"}. Default \code{"gaussian"}.}

\item{y_sd}{Numeric or NULL. Standard deviation of y, used for Gaussian
unstandardization: \code{eta_orig = eta_std * y_sd + y_mean}.}

\item{y_mean}{Numeric or NULL. Mean of y, used for Gaussian
unstandardization.}
}
\value{
List with:
\itemize{
\item \code{deviance}: Residual deviance
\item \code{null_deviance}: Null model deviance (intercept-only)
}
}
\description{
After BCD convergence, computes deviance on the coordinator (label server)
using decrypted etas from non-label servers and local y. The client never
sees the n-length \code{eta_total} vector.
}
\details{
For Gaussian family, the standardized etas are unstandardized using
\code{y_sd} and \code{y_mean} before computing deviance.
}
\seealso{
\code{\link{glmCoordinatorStepDS}}, \code{\link{glmDevianceDS}}
}
