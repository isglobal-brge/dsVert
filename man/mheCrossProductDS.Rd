% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mheCrossProductDS.R
\name{mheCrossProductDS}
\alias{mheCrossProductDS}
\title{MHE Cross Product (Server-Side)}
\usage{
mheCrossProductDS(
  plaintext_data_name,
  plaintext_variables,
  encrypted_columns,
  secret_key,
  n_obs,
  log_n = 13,
  log_scale = 40
)
}
\arguments{
\item{plaintext_data_name}{Character string. Name of the data frame containing
the plaintext data (Z_A).}

\item{plaintext_variables}{Character vector. Variable names in Z_A.}

\item{encrypted_columns}{List. Base64-encoded encrypted columns from the other server.}

\item{secret_key}{Character string. Base64-encoded secret key for decryption.}

\item{n_obs}{Integer. Number of observations (for computing correlation).}

\item{log_n}{Integer. Ring dimension parameter.}

\item{log_scale}{Integer. Scale parameter.}
}
\value{
A list containing:
\itemize{
\item \code{cross_correlation}: Matrix (p_A x p_B) of correlations
\item \code{cross_product}: Raw cross-product matrix G_AB = Z_A' * Z_B
}
}
\description{
Server-side aggregate function that computes the cross-product
matrix Z_A' * Z_B where Z_B is encrypted.
}
\details{
This function computes the cross-product G_AB = Z_A' * Z_B homomorphically:

\enumerate{
\item Standardize local data Z_A
\item For each pair of columns (i from A, j from B):
\enumerate{
\item Multiply plaintext column i of Z_A with encrypted column j of Z_B element-wise
\item Sum-reduce to get the encrypted inner product
\item Decrypt to get the cross-product entry
}
\item Divide by (n-1) to get correlation
}

The cross-correlation R_AB = Cor(X_A, X_B) is computed as:
\deqn{R_{AB} = G_{AB} / (n-1)}
}
\section{Security Note}{

This server never sees the plaintext values from the other server.
It only sees encrypted columns and computes on them homomorphically.
The final decryption requires the secret key, which in a true multiparty
setup would require collaboration from all parties.
}

