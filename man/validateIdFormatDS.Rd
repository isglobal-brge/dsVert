% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validateIdFormatDS.R
\name{validateIdFormatDS}
\alias{validateIdFormatDS}
\title{Validate Identifier Format (Server-Side)}
\usage{
validateIdFormatDS(data_name, id_col, pattern = NULL)
}
\arguments{
\item{data_name}{Character string. Name of the data frame in the server
environment.}

\item{id_col}{Character string. Name of the column containing identifiers.}

\item{pattern}{Character string (optional). Regular expression pattern
that IDs should match. If NULL, pattern is inferred from data.}
}
\value{
A list containing:
\itemize{
\item \code{n_obs}: Number of observations
\item \code{n_unique}: Number of unique identifiers
\item \code{n_missing}: Number of missing (NA) identifiers
\item \code{all_match}: Logical, TRUE if all IDs match the pattern
(only if pattern provided)
\item \code{pct_match}: Percentage of IDs matching the pattern
\item \code{format_signature}: Hash of detected format characteristics
for cross-server comparison
\item \code{id_class}: R class of the identifier column
}
}
\description{
Server-side aggregate function that validates the format
of identifier variables and returns aggregate statistics for
cross-server comparison.
}
\details{
This function helps ensure that identifier variables have consistent
formats across servers before performing record alignment. It is
privacy-preserving as it only returns aggregate statistics and a
format signature hash, never the actual identifier values.

The format signature is computed from:
\itemize{
\item The detected character class pattern (digits, letters, etc.)
\item The typical length of identifiers
\item The presence of separators (-, _, etc.)
}
}
\examples{
\dontrun{
# Called from client via datashield.aggregate()
result <- datashield.aggregate(conn,
  call("validateIdFormatDS", "D", "patient_id", "^[A-Z][0-9]+$"))
}

}
\seealso{
\code{\link{hashIdDS}} for hashing identifiers,
\code{\link{alignRecordsDS}} for record alignment
}
